<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HAARKS ‚Äî NIFTY Trading Helper</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #020617;
  color: #fff;
  padding: 20px;
}

h1 { font-size: 26px; margin: 0; }
.brand { font-weight: bold; letter-spacing: 1px; }
.status { margin-top: 6px; color: #ff4d4d; font-weight: bold; }

.panel {
  margin-top: 18px;
  background: #0b1220;
  padding: 18px;
  border-radius: 14px;
  max-width: 600px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.4);
}

label {
  font-size: 12px;
  color: #9ca3af;
}

input {
  width: 100%;
  padding: 8px;
  margin-top: 4px;
  margin-bottom: 10px;
  border-radius: 6px;
  border: none;
  font-size: 14px;
}

button {
  padding: 10px;
  width: 100%;
  border: none;
  border-radius: 8px;
  font-size: 15px;
  font-weight: bold;
  background: #2563eb;
  color: #fff;
  cursor: pointer;
}

.section { margin-top: 16px; }
.call { color: #22c55e; }
.put { color: #ef4444; }
.level { color: #38bdf8; }
.small { font-size: 12px; color: #9ca3af; }

iframe {
  margin-top: 22px;
  width: 100%;
  height: 520px;
  border: none;
  border-radius: 14px;
}
</style>
</head>

<body>

<h1 class="brand">HAARKS ‚Äî NIFTY Trading Helper</h1>
<div class="status">üî¥ Market is CLOSED ‚Äî Planning Mode</div>

<div class="panel">

<label>Previous Day High</label>
<input id="ph" placeholder="e.g. 22640">

<label>Previous Day Low</label>
<input id="pl" placeholder="e.g. 22410">

<label>Previous Day Close</label>
<input id="pc" placeholder="e.g. 22520">

<label>Opening Range High (9:15‚Äì9:30)</label>
<input id="orh" placeholder="e.g. 22580">

<label>Opening Range Low (9:15‚Äì9:30)</label>
<input id="orl" placeholder="e.g. 22500">

<button onclick="calculate()">Generate Trading Plan</button>

<div id="output"></div>
</div>

<!-- NIFTY 50 CHART -->
<iframe
  src="https://s.tradingview.com/widgetembed/?symbol=NSE%3ANIFTY&interval=5&timezone=Asia%2FKolkata&theme=dark&style=1&allow_symbol_change=false&enable_publishing=false">
</iframe>

<div class="small">
Chart via TradingView (exchange-delayed). No order execution.
</div>

<script>
function round(x) { return Math.round(x); }
function round50(x) { return Math.round(x / 50) * 50; }

function calculate() {
  const H = +ph.value;
  const L = +pl.value;
  const C = +pc.value;
  const ORH = +orh.value;
  const ORL = +orl.value;

  if (!H || !L || !C || !ORH || !ORL) {
    alert("Fill all inputs");
    return;
  }

  /* CPR */
  const P = (H + L + C) / 3;
  const BC = (H + L) / 2;
  const TC = (2 * P) - BC;

  /* ORB */
  const orbBuy = ORH;
  const orbSell = ORL;

  /* Liquidity Sweep Zones */
  const sweepHigh = H + 10;
  const sweepLow = L - 10;

  /* Option Strikes */
  const atm = round50(P);

  output.innerHTML = `
  <div class="section level">
    üìä CPR Levels<br>
    Pivot: <b>${round(P)}</b><br>
    BC: <b>${round(BC)}</b><br>
    TC: <b>${round(TC)}</b>
  </div>

  <div class="section call">
    üìà CALL (CE)<br>
    Entry: Above ORH <b>${orbBuy}</b><br>
    Target: <b>${round(orbBuy + (H - L))}</b><br>
    SL: Below ORL <b>${orbSell}</b><br>
    Strike: <b>${atm + 50} CE</b>
  </div>

  <div class="section put">
    üìâ PUT (PE)<br>
    Entry: Below ORL <b>${orbSell}</b><br>
    Target: <b>${round(orbSell - (H - L))}</b><br>
    SL: Above ORH <b>${orbBuy}</b><br>
    Strike: <b>${atm - 50} PE</b>
  </div>

  <div class="section small">
    ‚ö†Ô∏è Liquidity Sweep Zones<br>
    High Sweep: ${sweepHigh}<br>
    Low Sweep: ${sweepLow}<br><br>
    No-Trade Zone: CPR Range<br>
    Strategy: ORB + Fake Break Reversal
  </div>
  `;
}
</script>

</body>
</html>
