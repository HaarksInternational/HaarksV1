<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HAARKS â€” Smart Trade</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Inter, Arial, sans-serif;
  background: #0b1220;
  color: #e6ebf5;
}

.container {
  max-width: 1200px;
  margin: auto;
  padding: 24px;
}

h1 {
  font-size: 22px;
  margin-bottom: 4px;
}

.status {
  font-size: 14px;
  margin-bottom: 16px;
}

.open { color: #2aff9d; }
.closed { color: #ff4d4d; }

.panel {
  background: #111a2f;
  border-radius: 14px;
  padding: 20px;
  margin-bottom: 24px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.5);
}

.row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 12px;
  font-size: 16px;
}

.label { color: #9aa7c7; }
.value { font-weight: 600; }

.bullish { color: #2aff9d; }
.bearish { color: #ff6b6b; }
.neutral { color: #ffd166; }

.grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}

.footer {
  font-size: 12px;
  color: #7b87a7;
  margin-top: 12px;
  line-height: 1.5;
}
</style>
</head>

<body>
<div class="container">

<h1>HAARKS â€” Smart Trade</h1>
<div id="marketStatus" class="status"></div>

<!-- SIGNAL PANEL -->
<div class="panel">
  <div class="row">
    <div class="label">NIFTY 50 (Previous Close)</div>
    <div class="value" id="nifty">25,232.50</div>
  </div>

  <div class="row">
    <div class="label">GIFT NIFTY</div>
    <div class="value" id="gift">25,290.00</div>
  </div>

  <div class="row">
    <div class="label">Difference</div>
    <div class="value" id="diff"></div>
  </div>

  <div class="row">
    <div class="label">Market Bias</div>
    <div class="value" id="bias"></div>
  </div>
</div>

<!-- CHARTS -->
<div class="grid">

  <!-- NIFTY 50 -->
  <div class="panel">
    <div class="label" style="margin-bottom:8px;">NIFTY 50 â€” Live (TradingView)</div>
    <iframe
      src="https://s.tradingview.com/widgetembed/?symbol=NSE:NIFTY&interval=5&theme=dark&style=1&timezone=Asia/Kolkata"
      style="width:100%;height:360px;border:none;border-radius:10px;">
    </iframe>
  </div>

  <!-- GIFT NIFTY -->
  <div class="panel">
    <div class="label" style="margin-bottom:8px;">GIFT NIFTY â€” Live (TradingView)</div>
    <iframe
      src="https://s.tradingview.com/widgetembed/?symbol=SGX:GIFTNIFTY&interval=5&theme=dark&style=1&timezone=Asia/Kolkata"
      style="width:100%;height:360px;border:none;border-radius:10px;">
    </iframe>
  </div>

</div>

<div class="footer">
  Data logic only â€¢ No broker connection â€¢ API-safe demo (In progress)<br>
  Decision-support system â€” not investment advice<br>
  AI logic & structure assisted by ChatGPT<br>
  Â© HAARKS
</div>

</div>

<script>
/* ===== MARKET STATUS (IST) ===== */
function isMarketOpenIST() {
  const ist = new Date(
    new Date().toLocaleString("en-US", { timeZone: "Asia/Kolkata" })
  );
  const day = ist.getDay();
  const h = ist.getHours();
  const m = ist.getMinutes();

  if (day === 0 || day === 6) return false;
  if (h < 9 || (h === 9 && m < 15)) return false;
  if (h > 15 || (h === 15 && m > 30)) return false;
  return true;
}

const statusEl = document.getElementById("marketStatus");
if (isMarketOpenIST()) {
  statusEl.textContent = "ðŸŸ¢ Market is OPEN";
  statusEl.className = "status open";
} else {
  statusEl.textContent = "ðŸ”´ Market is CLOSED";
  statusEl.className = "status closed";
}

/* ===== BIAS LOGIC (DEMO VALUES) ===== */
const nifty = 25232.5;
const gift = 25290.0;
const diff = gift - nifty;

document.getElementById("diff").innerText =
  (diff > 0 ? "+" : "") + diff.toFixed(2);

const biasEl = document.getElementById("bias");

if (diff > 20) {
  biasEl.textContent = "Bullish â†’ CALL bias";
  biasEl.className = "value bullish";
} else if (diff < -20) {
  biasEl.textContent = "Bearish â†’ PUT bias";
  biasEl.className = "value bearish";
} else {
  biasEl.textContent = "Neutral â†’ No trade zone";
  biasEl.className = "value neutral";
}
</script>

</body>
</html>
